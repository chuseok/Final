create user c##dragon identified by 1234;
grant connect, resource, dba to c##dragon;

create table Mem(
userId VARCHAR(50),
userPwd varchar(50),
userName varchar(50),
birthday varchar(50),
phoneNo VARCHAR(50),
email varchar(50),
lastConn Date DEFAULT Sysdate,
enabled char(1) default '1',
primary key(userId),
    unique(userName),
coin number DEFAULT 10000 NOT NULL
);

create table tbl_member_auth(
userId varchar2(50) not null,
auth varchar(50) not null,
constraint fk_authorities_auth foreign key(userId) references mem(userId));

create unique index ix_auth_userId on tbl_member_auth(userId,auth);

create table persistent_logins(
username varchar(64) not null,
series varchar(64) primary key,
token varchar(64) not null,
last_used timestamp not null,
constraint fk_persistent_logins foreign key(username) references mem(userid)
on delete cascade);


create table folder (
folderId number(10, 0) not null,
folderTitle varchar2(100) not null,
description varchar2(200),
link varchar2(200) not null,
userId varchar2(50) not null,
regdate Date DEFAULT Sysdate,
constraint pk_folder primary key(folderId),
constraint pk_foldertitle unique(folderTitle),
constraint fk_folder foreign key(userid) references mem(userid)
on delete cascade);


create table wordBook (
bookId number(10, 0) not null,
folderId number(10, 0),
userId varchar2(100) not null,
wordTitle varchar2(100) not null,
constraint pk_wordbook primary key(bookId)
);

create sequence seq_folder
increment by 1
nocycle
nocache
;

create sequence seq_wordbook
increment by 1
nocycle
nocache
;


create table recentStudy (
  userId VARCHAR(50),
  bookId varchar(50),
  bookTitle varchar(50),
  studyDate date DEFAULT sysdate 
);



create table product(
proid number primary key,
proname nvarchar2(40),
proimg nvarchar2(70),
price number(10),
category nvarchar2(30),
description nvarchar2(200)
);

commit;

create table dragoninfo(
userid varchar2(50) not null,
totallevel number(10) not null,
levelvalue number(3) not null,
foodvalue number(3) not null,
toyvalue number(3) not null,
equip varchar2(1) not null,
backgroundid number not null,
dragonid number not null,
CONSTRAINT FK_DRAGON_USERID FOREIGN KEY(userid) REFERENCES MEM(userid)  on delete cascade,
CONSTRAINT PK_DRAGON_USERID PRIMARY KEY(userid, dragonid),
CONSTRAINT FK_DRAGON_DRAGONID FOREIGN KEY(dragonid) REFERENCES DRAGONLIST(DRAGONID)

);


create table dragonlist(
dragonid number primary key, 
eggid number not null,
level1 nvarchar2(80) not null,
level2 nvarchar2(80) not null,
level3 nvarchar2(80) not null,
CONSTRAINT FK_DRAGON_EGGID FOREIGN KEY(eggid) REFERENCES PRODUCT(PROID)
);



create table inventory(
inventoryid VARCHAR2(50) not null,
userid VARCHAR2(50) not null,
productid number not null,
amount number not null,
orderDate Date default sysdate,
primary key(inventoryId),
CONSTRAINT product_productId FOREIGN KEY(productid)
REFERENCES product(proid) on delete cascade,
CONSTRAINT FK_PRODUCT_USERID FOREIGN KEY(userid) REFERENCES MEM(userid)  on delete cascade


);



















insert into product values(1,'meat','../resources/images/food/meat.svg', 1000, 'item', '포만감 +10 증가');
insert into product values(2,'fish','../resources/images/food/fish.svg', 700, 'item', '포만감 +5 증가');
insert into product values(3,'potion','../resources/images/food/potion.svg', 1000, 'item', '경험치 +10 증가');
insert into product values(4,'apple','../resources/images/food/apple.svg', 500, 'item', '포만감 +3 증가');
insert into product values(5,'보라색 알','../resources/images/egg/egg_1.svg', 3000, 'egg', '보랏빛이 도는 신비한 알');
insert into product values(6,'분홍색 알','../resources/images/egg/egg_2.svg', 3000, 'egg', '분홍빛이 도는 신비한 알');
insert into product values(7,'주황색 알','../resources/images/egg/egg_3.svg', 3000, 'egg', '주황빛이 도는 신비한 알');
insert into product values(8,'노란색 알','../resources/images/egg/egg_4.svg', 3000, 'egg', '노란빛이 도는 신비한 알');
insert into product values(9,'알','../resources/images/egg/egg_5.svg', 3000, 'egg', '기본으로 제공되는 알');
insert into product values(10,'파란색 알','../resources/images/egg/egg_6.svg', 3000, 'egg', '파란빛이 도는 신비한 알');
insert into product values(11,'space','../resources/images/background/space_background.png', 3000, 'background', 'space');
insert into product values(12,'파이리','../resources/images/dragon/파이리.png', -1, 'dragon', '파이리');
insert into product values(13,'리자드','../resources/images/dragon/리자드.png', -1, 'dragon', '리자드');
insert into product values(14,'리자몽','../resources/images/dragon/리자몽.png', -1, 'dragon', '리자몽');
insert into product values(15,'이상해씨','../resources/images/dragon/이상해씨.png', -1, 'dragon', '이상해씨');
insert into product values(16,'이상해풀','../resources/images/dragon/이상해풀.png', -1, 'dragon', '이상해풀');
insert into product values(17,'이상해꽃','../resources/images/dragon/이상해꽃.png', -1, 'dragon', '이상해꽃');
insert into product values(18,'꼬부기','../resources/images/dragon/꼬부기.png', -1, 'dragon', '꼬부기');
insert into product values(19,'어니부기','../resources/images/dragon/어니부기.png', -1, 'dragon', '어니부기');
insert into product values(20,'거북왕','../resources/images/dragon/거북왕.png', -1, 'dragon', '거북왕');
insert into product values(21,'graydot','../resources/images/background/gray_dot_background.png', 3000, 'background', 'graydot');
insert into product values(22,'cloud','../resources/images/background/cloud_background.png',3000, 'background', 'cloud');
insert into product values(23,'캐터피','../resources/images/dragon/캐터피.png', -1, 'dragon', '캐터피');
insert into product values(24,'단데기','../resources/images/dragon/단데기.png', -1, 'dragon', '단데기');
insert into product values(25,'버터플','../resources/images/dragon/버터플.png', -1, 'dragon', '버터플');
insert into product values(26,'뿔충이','../resources/images/dragon/뿔충이.png', -1, 'dragon', '뿔충이');
insert into product values(27,'딱충이','../resources/images/dragon/딱충이.png', -1, 'dragon', '딱충이');
insert into product values(28,'독침붕','../resources/images/dragon/독침붕.png', -1, 'dragon', '독침붕');
insert into product values(29,'구구','../resources/images/dragon/구구.png', -1, 'dragon', '구구');
insert into product values(30,'피죤','../resources/images/dragon/피죤.png', -1, 'dragon', '피죤');
insert into product values(31,'피죤투','../resources/images/dragon/피죤투.png', -1, 'dragon', '피죤투');
insert into product values(32,'피츄','../resources/images/dragon/피츄.png', -1, 'dragon', '피츄');
insert into product values(33,'피카츄','../resources/images/dragon/피카츄.png', -1, 'dragon', '피카츄');
insert into product values(34,'라이츄','../resources/images/dragon/라이츄.png', -1, 'dragon', '라이츄');
insert into product values(35,'뚜벅쵸','../resources/images/dragon/뚜벅쵸.png', -1, 'dragon', '뚜벅쵸');
insert into product values(36,'냄새꼬','../resources/images/dragon/냄새꼬.png', -1, 'dragon', '냄새꼬');
insert into product values(37,'라플레시아','../resources/images/dragon/라플레시아.png', -1, 'dragon', '라플레시아');
insert into product values(38,'발챙이','../resources/images/dragon/발챙이.png', -1, 'dragon', '발챙이');
insert into product values(39,'슈륙챙이','../resources/images/dragon/슈륙챙이.png', -1, 'dragon', '슈륙챙이');
insert into product values(40,'강챙이','../resources/images/dragon/강챙이.png', -1, 'dragon', '강챙이');
insert into product values(41,'케이시','../resources/images/dragon/케이시.png', -1, 'dragon', '케이시');
insert into product values(42,'윤겔라','../resources/images/dragon/윤겔라.png', -1, 'dragon', '윤겔라');
insert into product values(43,'후딘','../resources/images/dragon/후딘.png', -1, 'dragon', '후딘');
insert into product values(44,'알통몬','../resources/images/dragon/알통몬.png', -1, 'dragon', '알통몬');
insert into product values(45,'근육몬','../resources/images/dragon/근육몬.png', -1, 'dragon', '근육몬');
insert into product values(46,'괴력몬','../resources/images/dragon/괴력몬.png', -1, 'dragon', '괴력몬');
insert into product values(47,'꼬마돌','../resources/images/dragon/꼬마돌.png', -1, 'dragon', '꼬마돌');
insert into product values(48,'데구리','../resources/images/dragon/데구리.png', -1, 'dragon', '데구리');
insert into product values(49,'딱구리','../resources/images/dragon/딱구리.png', -1, 'dragon', '딱구리');
insert into product values(50,'야돈','../resources/images/dragon/야돈.png', -1, 'dragon', '야돈');
insert into product values(51,'야도란','../resources/images/dragon/야도란.png', -1, 'dragon', '야도란');
insert into product values(52,'메가야도란','../resources/images/dragon/메가야도란.png', -1, 'dragon', '메가야도란');
insert into product values(53,'고오스','../resources/images/dragon/고오스.png', -1, 'dragon', '고오스');
insert into product values(54,'고우스트','../resources/images/dragon/고우스트.png', -1, 'dragon', '고우스트');
insert into product values(55,'팬텀','../resources/images/dragon/팬텀.png', -1, 'dragon', '팬텀');
insert into product values(56,'잉어킹','../resources/images/dragon/잉어킹.png', -1, 'dragon', '잉어킹');
insert into product values(57,'갸라도스','../resources/images/dragon/갸라도스.png', -1, 'dragon', '갸라도스');
insert into product values(58,'메가갸라도스','../resources/images/dragon/메가갸라도스.png', -1, 'dragon', '메가갸라도스');
insert into product values(59,'프리져','../resources/images/dragon/프리져.png', -1, 'dragon', '프리져');
insert into product values(60,'썬더','../resources/images/dragon/썬더.png', -1, 'dragon', '썬더');
insert into product values(61,'파이어','../resources/images/dragon/파이어.png', -1, 'dragon', '파이어');
insert into product values(62,'미뇽','../resources/images/dragon/미뇽.png', -1, 'dragon', '미뇽');
insert into product values(63,'신뇽','../resources/images/dragon/신뇽.png', -1, 'dragon', '신뇽');
insert into product values(64,'망냐뇽','../resources/images/dragon/망냐뇽.png', -1, 'dragon', '망냐뇽');
insert into product values(65,'뮤','../resources/images/dragon/뮤.png', -1, 'dragon', '뮤');
insert into product values(66,'뮤츠','../resources/images/dragon/뮤츠.png', -1, 'dragon', '뮤츠');
insert into product values(67,'메가뮤츠','../resources/images/dragon/메가뮤츠.png', -1, 'dragon', '메가뮤츠');
insert into product values(68,'yellow','../resources/images/background/yellow_background.png', 0, 'background', 'yellow');
insert into product values(69,'mint','../resources/images/background/mint_background.png', 0, 'background', 'mint');
insert into product values(70,'purple','../resources/images/background/purple_background.png', 0, 'background', 'purple');
insert into product values(71,'default','../resources/images/background/white_background.png', 0, 'background', 'white');
insert into product values(72,'big potion','../resources/images/food/big_potion.svg', 1000, 'item', '경험치 +100 증가');


insert into dragonlist values(1, 7,'../resources/images/dragon/파이리.png','../resources/images/dragon/리자드.png','../resources/images/dragon/리자몽.png'); 
insert into dragonlist values(2, 7,'../resources/images/dragon/이상해씨.png','../resources/images/dragon/이상해풀.png','../resources/images/dragon/이상해꽃.png'); 
insert into dragonlist values(3, 7,'../resources/images/dragon/꼬부기.png','../resources/images/dragon/어니부기.png','../resources/images/dragon/거북왕.png'); 
insert into dragonlist values(4, 6,'../resources/images/dragon/캐터피.png','../resources/images/dragon/단데기.png','../resources/images/dragon/버터플.png'); 
insert into dragonlist values(5, 6,'../resources/images/dragon/뿔충이.png','../resources/images/dragon/딱충이.png','../resources/images/dragon/독침붕.png'); 
insert into dragonlist values(6, 6,'../resources/images/dragon/구구.png','../resources/images/dragon/피죤.png','../resources/images/dragon/피죤투.png'); 
insert into dragonlist values(7, 5,'../resources/images/dragon/피츄.png','../resources/images/dragon/피카츄.png','../resources/images/dragon/라이츄.png'); 
insert into dragonlist values(8, 5,'../resources/images/dragon/뚜벅쵸.png','../resources/images/dragon/냄새꼬.png','../resources/images/dragon/라플레시아.png'); 
insert into dragonlist values(9, 5,'../resources/images/dragon/발챙이.png','../resources/images/dragon/슈륙챙이.png','../resources/images/dragon/강챙이.png'); 
insert into dragonlist values(10, 9,'../resources/images/dragon/케이시.png','../resources/images/dragon/윤겔라.png','../resources/images/dragon/후딘.png'); 
insert into dragonlist values(11, 9,'../resources/images/dragon/알통몬.png','../resources/images/dragon/근육몬.png','../resources/images/dragon/괴력몬.png'); 
insert into dragonlist values(12, 9,'../resources/images/dragon/꼬마돌.png','../resources/images/dragon/데구리.png','../resources/images/dragon/딱구리.png');
insert into dragonlist values(13, 8,'../resources/images/dragon/야돈.png','../resources/images/dragon/야도란.png','../resources/images/dragon/메가야도란.png');
insert into dragonlist values(14, 8,'../resources/images/dragon/고오스.png','../resources/images/dragon/고우스트.png','../resources/images/dragon/팬텀.png');
insert into dragonlist values(15, 8,'../resources/images/dragon/잉어킹.png','../resources/images/dragon/갸라도스.png','../resources/images/dragon/메가갸라도스.png');
insert into dragonlist values(16, 10,'../resources/images/dragon/프리져.png','../resources/images/dragon/썬더.png','../resources/images/dragon/파이어.png');
insert into dragonlist values(17, 10,'../resources/images/dragon/미뇽.png','../resources/images/dragon/신뇽.png','../resources/images/dragon/망냐뇽.png');
insert into dragonlist values(18, 10,'../resources/images/dragon/뮤.png','../resources/images/dragon/뮤츠.png','../resources/images/dragon/메가뮤츠.png');
commit;

